@prefix html: <http://www.w3.org/1999/xhtml#> .
@prefix http: <http://www.w3.org/2011/http#> .
@prefix list: <http://www.w3.org/2000/10/swap/list#> .
@prefix log: <http://www.w3.org/2000/10/swap/log#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix schema: <http://schema.org/> .
@prefix string: <http://www.w3.org/2000/10/swap/string#> .

# Server root shows HTML homepage
{
   ?request http:path "/" .
   ?site schema:name ?name ;
       schema:description ?desc .
   ( """<!doctype html>
<title>%s</title>
<meta charset=\"utf-8\">
<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">
<p>%s</p>
""" ?name ?desc ) string:format ?html .
}
=> 
{
   ?response a http:Response ;
       http:respondsTo ?request ;
       http:responseCode 200 ;
       http:contentType "text/html" ;
       http:body [
           a html:page ;
           html:outerHTML ?html 
       ] .
} .
